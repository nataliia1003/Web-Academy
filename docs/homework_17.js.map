{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/homework_17/ApiRequest.js","webpack:///./src/homework_17/homework_17.js","webpack:///./src/homework_17/homework_17.scss"],"names":["ApiRequest","url","successCallback","errorCallback","xhr","XMLHttpRequest","open","send","onreadystatechange","readyState","status","console","log","response","data","setRequestHeader","id","rootElement","document","querySelector","authorInputElement","inputElement","sendButtonElement","commentsListElement","inputRender","createElement","setAttribute","classList","add","innerText","appendChild","commentsListRender","generateComment","commentObject","commentElement","authorElement","textElement","dateElement","deleteButtonElement","author","text","date","addEventListener","request","remove","error","renderComment","listItem","getComments","commentsArray","JSON","parse","i","length","get","addComment","body","value","post","stringify"],"mappings":"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","file":"homework_17.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n","export class ApiRequest {\r\n    constructor(url) {\r\n        this.url = url;\r\n    }\r\n\r\n    get(successCallback, errorCallback) {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('GET', this.url);\r\n        xhr.send();\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200) {\r\n                    console.log(xhr);\r\n                    successCallback(xhr.response);\r\n                } else {\r\n                    errorCallback(xhr.response);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    post(data, successCallback, errorCallback) {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('POST', this.url);\r\n\r\n        xhr.setRequestHeader('Content-Type', 'application/json');\r\n\r\n        xhr.send(data);\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200) {\r\n                    successCallback(xhr.response);\r\n                } else {\r\n                    errorCallback(xhr.response);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    delete(id, successCallback, errorCallback) {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('DELETE', this.url + '/' + id);\r\n\r\n        xhr.send();\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200) {\r\n                    successCallback(xhr.response);\r\n                } else {\r\n                    errorCallback(xhr.response);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n","import './homework_17.scss';\r\nimport { ApiRequest } from './ApiRequest';\r\n\r\n'./ApiRequest';\r\n\r\nconst rootElement = document.querySelector('body');\r\nlet authorInputElement;\r\nlet inputElement;\r\nlet sendButtonElement;\r\nlet commentsListElement;\r\n\r\nfunction inputRender() {\r\n    authorInputElement = document.createElement('input');\r\n    inputElement = document.createElement('textarea');\r\n    sendButtonElement = document.createElement('button');\r\n\r\n    authorInputElement.setAttribute('placeholder', 'author');\r\n    inputElement.setAttribute('placeholder', 'comment');\r\n\r\n    sendButtonElement.classList.add('send');\r\n    sendButtonElement.innerText = 'Send';\r\n\r\n    rootElement.appendChild(authorInputElement);\r\n    rootElement.appendChild(inputElement);\r\n    rootElement.appendChild(sendButtonElement);\r\n}\r\n\r\nfunction commentsListRender() {\r\n    commentsListElement = document.createElement('ul');\r\n\r\n    commentsListElement.classList.add('comments');\r\n\r\n    rootElement.appendChild(commentsListElement);\r\n}\r\n\r\nfunction generateComment(commentObject) {\r\n    const commentElement = document.createElement('li');\r\n    const authorElement = document.createElement('p');\r\n    const textElement = document.createElement('p');\r\n    const dateElement = document.createElement('p');\r\n    const deleteButtonElement = document.createElement('button');\r\n\r\n    commentElement.classList.add('comments__item');\r\n    authorElement.classList.add('comments__author');\r\n    textElement.classList.add('comments__text');\r\n    dateElement.classList.add('comments__date');\r\n    deleteButtonElement.classList.add('comments__delete');\r\n\r\n    authorElement.innerText = commentObject.author;\r\n    textElement.innerText = commentObject.text;\r\n    dateElement.innerText = commentObject.date;\r\n    commentElement.id = commentObject.id;\r\n    deleteButtonElement.innerText = 'Delete';\r\n\r\n    deleteButtonElement.addEventListener('click', function () {\r\n        const request = new ApiRequest('http://localhost:4001/comments');\r\n\r\n        function successCallback(response) {\r\n            commentElement.remove();\r\n        }\r\n\r\n        function errorCallback(error) {\r\n            console.log(error);\r\n        }\r\n\r\n        request.delete(commentObject.id, successCallback, errorCallback);\r\n    });\r\n\r\n    commentElement.appendChild(authorElement);\r\n    commentElement.appendChild(textElement);\r\n    commentElement.appendChild(dateElement);\r\n    commentElement.appendChild(deleteButtonElement);\r\n\r\n    return commentElement;\r\n}\r\n\r\nfunction renderComment(listItem) {\r\n    commentsListElement.appendChild(listItem);\r\n}\r\n\r\nfunction getComments() {\r\n    const request = new ApiRequest('http://localhost:4001/comments');\r\n\r\n    function successCallback(response) {\r\n        const commentsArray = JSON.parse(response);\r\n\r\n        for ( let i = 0; i < commentsArray.length; i++) {\r\n            const commentElement = generateComment(commentsArray[i]);\r\n            renderComment(commentElement);\r\n        }\r\n    }\r\n\r\n    function errorCallback(error) {\r\n        console.log(error);\r\n    }\r\n\r\n    request.get(successCallback, errorCallback);\r\n}\r\n\r\ninputRender();\r\ncommentsListRender();\r\ngetComments();\r\n\r\nfunction addComment(body) {\r\n    const request = new ApiRequest('http://localhost:4001/comments');\r\n\r\n    function successCallback(response) {\r\n        const commentElement = generateComment(JSON.parse(response));\r\n        renderComment(commentElement);\r\n\r\n        authorInputElement.value = '';\r\n        inputElement.value = '';\r\n    }\r\n\r\n    function errorCallback(error) {\r\n        console.log(error);\r\n    }\r\n\r\n    request.post(JSON.stringify(body), successCallback, errorCallback);\r\n}\r\n\r\nsendButtonElement.addEventListener('click', function () {\r\n    const body = {\r\n        author: authorInputElement.value,\r\n        text: inputElement.value\r\n    };\r\n\r\n    addComment(body);\r\n});\r\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}